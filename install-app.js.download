var n=Object.defineProperty;var o=(e,t)=>n(e,"name",{value:t,configurable:!0});import{BrickButton as l}from"https://assets.acdn.no/pkg/@amedia/brick-button/v5/brick-button.js";var r=6048e5;function p(){let e=navigator.userAgent,t=e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1,s=e.indexOf("iPhone")>-1||e.indexOf("Android")>-1,i=window.localStorage.getItem("app-install-close");return i&&Date.now()-i>r?(window.localStorage.removeItem("app-install-close"),t&&s):t&&s&&!i}o(p,"showButtons");var a=class extends HTMLElement{constructor(){super(),this.addEventListener("closeInstallApp",t=>this.hide(t),!1),this.newspaperColor=window.getComputedStyle(document.documentElement).getPropertyValue("--newspaper-color")}link(){return navigator.userAgent.indexOf("iPhone")>-1?`https://apps.apple.com/app/${this.iosAppId}`:`https://play.google.com/store/apps/details?id=${this.androidAppId}`}hide(t){t.target.getAttribute("data-customonclick")==="closeInstallApp"&&(this.querySelector(".install-app-wrapper").classList.add("hide"),window.localStorage.setItem("app-install-close",`${Date.now()}`))}connectedCallback(){if(this.iosAppId=this.getAttribute("iosAppId"),this.androidAppId=this.getAttribute("androidAppId"),this.label=this.getAttribute("label")||"Last ned app",p()||this.hasAttribute("test")){this.innerHTML=this.template;let s=document.querySelector("[data-version=primary]");s&&s.classList.add("lp_install_button");let i=document.querySelector("[data-version=secondary]");i&&i.classList.add("lp_close_button")}}get template(){return`<div class="install-app-wrapper lp_install_app adp-inscreen" data-adp-inscreen-name="install-app">
    <brick-button data-bgcolor="${this.newspaperColor}" data-label="${this.label}" data-version="primary" data-linkto="${this.link()}"></brick-button>
    <brick-button data-customonclick="closeInstallApp" data-label="Lukk" data-version="secondary" class="lp_install_app_close"></brick-button>
    </div>`}};o(a,"AmediaInstallApp");customElements.get("amedia-install-app")||customElements.define("amedia-install-app",a);customElements.get("brick-button")||customElements.define("brick-button",l);
//# sourceMappingURL=install-app.js.map
